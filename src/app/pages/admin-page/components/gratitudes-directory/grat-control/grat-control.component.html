<div id="gratitudes-control" class="control-card">
  <div class="c-header-container">
    <h1 class="exp-title">Благодарственные письма</h1>
    <button class="upd-btn" (click)="getGratitudes()">
      Обновить <img src="/assets/icons/update.svg" alt="upd-ico" />
    </button>
  </div>

  <div class="content-wrapper">
    <div class="file-list">
      <div class="file-list-headers" aria-hidden="true">
        <div class="file-name-header">Имя файла</div>
        <div class="usage-header">Добавлено:</div>
        <div class="action-header"></div>
      </div>

      <ng-container *ngFor="let url of gratitudesList">
        <div
          class="file-row"
          (click)="selectItem(url)"
          [class.selected]="selectedItem === url.split('/').pop()"
        >
          <div class="file-item">
            <p class="file-name">{{ url.split("/").pop() }}</p>
            <p class="time-stamp">
              {{ uploadLogs[url.split("/").pop()!] ? (uploadLogs[url.split("/").pop()!] | date:'dd.MM.yyyy, HH:mm') : '—' }}
            </p>
          </div>

          <button
            class="delete-btn"
            (click)="
              deleteItem(url.split('/').pop()!); $event.stopPropagation()
            "
          >
            <img src="/assets/icons/trash.svg" alt="trash" />
          </button>
        </div>
      </ng-container>
    </div>

    <div class="pic-container">
      <img *ngIf="fileUrl" [src]="fileUrl" alt="Gratitude file preview" />
      <div class="pre" *ngIf="!fileUrl">
        <p>
          Нажмите на элемент списка благодарственных писем, здесь появится
          предпросмотр
        </p>
      </div>
    </div>
  </div>
  <div class="h-divider"></div>
  <app-grat-adder (addNewGratitude)="onAddNewGratitude()"></app-grat-adder>
</div>
